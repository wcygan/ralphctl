# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Documentation site for the `ralphctl` CLI, built with **Docusaurus 3.9.2** (classic preset) and **React 19**. This is a sub-project within the `ralphctl` monorepo—the parent repo is a Rust CLI; this directory is purely TypeScript/MDX.

The `future: { v4: true }` flag is enabled for Docusaurus v4 forward-compatibility.

## Commands

All commands use **Bun** as the package manager (`bun.lock` is committed).

```bash
bun install                # Install dependencies
bun start                  # Dev server with hot reload
bun run build              # Production build (also validates broken links)
bun run serve              # Serve production build locally
bun run typecheck          # TypeScript type checking (tsc)
bun run clear              # Clear Docusaurus cache (.docusaurus/)
```

## Content Architecture

**Docs** (`docs/`): Markdown/MDX files auto-generate the sidebar from filesystem structure. Subdirectories become sidebar categories controlled by `_category_.json` files (with `label` and `position` fields). No manual sidebar registration needed—just create files.

**Blog** (`blog/`): Blog posts with frontmatter. Author profiles in `authors.yml`, tags in `tags.yml`. Supports folder-based posts (directory with `index.md` + assets).

**Pages** (`src/pages/`): Standalone React pages (`.tsx`) or markdown pages (`.md`) that become routes at their filename path.

**Components** (`src/components/`): Shared React components used across pages. Currently contains `HomepageFeatures` used by the landing page.

**Styles** (`src/css/custom.css`): Global Infima CSS variable overrides for theming. Component-level styles use CSS Modules (`*.module.css`).

## Configuration

| File | Purpose |
|------|---------|
| `docusaurus.config.ts` | Site metadata, navbar, footer, presets, theme |
| `sidebars.ts` | Sidebar definition (currently autogenerated) |

## Key Conventions

- `onBrokenLinks: 'throw'` — broken doc links fail the build. Always verify links exist before referencing them.
- Syntax highlighting uses `prism-react-renderer` with GitHub (light) and Dracula (dark) themes.
- Static assets go in `static/` and are served from root (reference as `/img/...`).
- Config and sidebar files run in Node.js—no browser APIs or JSX in these files.
