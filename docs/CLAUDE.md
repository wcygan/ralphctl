# CLAUDE.md

Guidance for Claude Code when working in the docs site.

## Project Overview

Documentation site for the `ralphctl` CLI, built with **Docusaurus 3.9.2** (classic preset) and **React 19**. Sub-project within the `ralphctl` monorepo -- parent repo is Rust; this directory is purely TypeScript/MDX.

Site title: **ralphctl**. Org: `wcygan`. Blog is disabled. The `future: { v4: true }` flag is enabled for Docusaurus v4 forward-compatibility.

## Commands

All commands use **Bun** as the package manager (`bun.lock` is committed).

```bash
just docs                  # Start dev server (from repo root)
bun install                # Install dependencies
bun start                  # Dev server with hot reload
bun run build              # Production build (validates broken links)
bun run serve              # Serve production build locally
bun run typecheck          # TypeScript type checking (tsc)
bun run clear              # Clear Docusaurus cache (.docusaurus/)
```

## Content Architecture

**Docs** (`docs/`): Markdown files auto-generate the sidebar from filesystem structure. Subdirectories become sidebar categories controlled by `_category_.json` files (with `label` and `position` fields). No manual sidebar registration needed -- just create files.

Current content:

| Page | Path | Description |
|------|------|-------------|
| Introduction | `docs/intro.md` | Workflow overview, getting started |
| The Philosophy | `docs/philosophy/the-philosophy.md` | Core philosophical pillars |
| How ralphctl Implements It | `docs/philosophy/how-ralphctl-implements-it.md` | Design decisions mapped to principles |
| Future Improvements | `docs/philosophy/future-improvements.md` | Vision and concrete proposals |

**Pages** (`src/pages/`): Homepage (`index.tsx`) with `HomepageFeatures` component. Note: the homepage still contains Docusaurus template boilerplate (placeholder feature descriptions and SVGs) that should be customized.

**Styles** (`src/css/custom.css`): Global Infima CSS variable overrides for theming. Component-level styles use CSS Modules (`*.module.css`).

## Configuration

| File | Purpose |
|------|---------|
| `docusaurus.config.ts` | Site metadata, navbar, footer, presets, theme |
| `sidebars.ts` | Sidebar definition (autogenerated from filesystem) |

## Key Conventions

- `onBrokenLinks: 'throw'` -- broken doc links fail the build. Always verify links exist before referencing them.
- Use relative markdown links between docs (e.g., `[The Philosophy](./the-philosophy.md)`). Docusaurus resolves these at build time.
- Syntax highlighting uses `prism-react-renderer` with GitHub (light) and Dracula (dark) themes.
- Static assets go in `static/` and are served from root (reference as `/img/...`).
- Config and sidebar files run in Node.js -- no browser APIs or JSX in these files.
- Blog is disabled (`blog: false` in config). Leftover `blog/authors.yml` and `blog/tags.yml` on disk are inert.
